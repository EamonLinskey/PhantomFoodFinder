(()=>{"use strict";var e={385:function(e,r,t){var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(s,n){function a(e){try{l(o.next(e))}catch(e){n(e)}}function u(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,u)}l((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const s=t(558);chrome.runtime.onMessage.addListener(((e,r,t)=>{var n;return"getNearbyRestaurants"===e.type&&(n=e.cordinate,o(void 0,void 0,void 0,(function*(){const e=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?fields=name&location=${n.latitude},${n.longitude}&radius=50&key=`,r=yield fetch(e);if(!r.ok){const e="Unable to connect to the google place API";throw console.error(e),new Error(e)}const t=yield r.json();if(!s.sucessfulCallStatuses.includes(t.status)){const e=`There was a problem with our request the google place API. Response: "${t.status}"`;throw console.error(e),new Error(e)}return(null==t?void 0:t.results)&&t.results.length>0?t.results:null}))).then((e=>{t(e)})).catch((e=>{const r=`Error retrieving restaurant name: ${e}`;console.error(r),t({error:r})})),!0})),chrome.tabs.onUpdated.addListener(((e,r)=>{r.url&&chrome.tabs.sendMessage(e,{message:"urlUpdated",url:r.url})}))},558:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isErrorResponse=r.sucessfulCallStatuses=void 0,r.sucessfulCallStatuses=["OK","ZERO_RESULTS"],r.isErrorResponse=function(e){return"object"==typeof e&&null!==e&&"error"in e&&"string"==typeof e.error}}},r={};!function t(o){var s=r[o];if(void 0!==s)return s.exports;var n=r[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}(385)})();