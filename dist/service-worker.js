(()=>{"use strict";var e={385:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,s){function a(e){try{i(o.next(e))}catch(e){s(e)}}function u(e){try{i(o.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}i((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(558);chrome.runtime.onMessage.addListener(((e,t,r)=>{var s;return"getNearbyRestaurants"===e.type&&(s=e.cordinate,o(void 0,void 0,void 0,(function*(){const e=`https://maps.googleapis.com/maps/api/place/nearbysearch/json?fields=name&location=${s.latitude},${s.longitude}&radius=20&key=`,t=yield fetch(e);if(!t.ok){const e="Unable to connect to the google place API";throw console.error(e),new Error(e)}const r=yield t.json();if(!n.sucessfulCallStatuses.includes(r.status)){const e=`There was a problem with our request the google place API. Response: "${r.status}"`;throw console.error(e),new Error(e)}return(null==r?void 0:r.results)&&r.results.length>0?r.results:null}))).then((e=>{r(e)})).catch((e=>{const t=`Error retrieving restaurant name: ${e}`;console.error(t),r({error:t})})),!0}))},558:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorResponse=t.sucessfulCallStatuses=void 0,t.sucessfulCallStatuses=["OK","ZERO_RESULTS"],t.isErrorResponse=function(e){return"object"==typeof e&&null!==e&&"error"in e&&"string"==typeof e.error}}},t={};!function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}(385)})();