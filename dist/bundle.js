(()=>{var t={386:t=>{function e(t,e){if((t=t.replace(/\s+/g,""))===(e=e.replace(/\s+/g,"")))return 1;if(t.length<2||e.length<2)return 0;let n=new Map;for(let e=0;e<t.length-1;e++){const r=t.substring(e,e+2),a=n.has(r)?n.get(r)+1:1;n.set(r,a)}let r=0;for(let t=0;t<e.length-1;t++){const a=e.substring(t,t+2),o=n.has(a)?n.get(a):0;o>0&&(n.set(a,o-1),r++)}return 2*r/(t.length+e.length-2)}t.exports={compareTwoStrings:e,findBestMatch:function(t,n){if(!function(t,e){return"string"==typeof t&&!!Array.isArray(e)&&!!e.length&&!e.find((function(t){return"string"!=typeof t}))}(t,n))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const r=[];let a=0;for(let o=0;o<n.length;o++){const i=n[o],s=e(t,i);r.push({target:i,rating:s}),s>r[a].rating&&(a=o)}return{ratings:r,bestMatch:r[a],bestMatchIndex:a}}}},837:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getOrInitilizeRestaurantMap=e.updateRestaurantCache=e.getCachedRestaurantData=void 0,e.getCachedRestaurantData=function(t){return n(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return[4,(0,e.getOrInitilizeRestaurantMap)()];case 1:return n=r.sent(),[2,null!==(o=n.get(a(t)))&&void 0!==o?o:null]}}))}))},e.updateRestaurantCache=function(t,o){return n(void 0,void 0,void 0,(function(){var n;return r(this,(function(r){switch(r.label){case 0:return null===o||null===o.restaurants?[2]:[4,(0,e.getOrInitilizeRestaurantMap)()];case 1:return(n=r.sent()).set(a(t),o),[4,chrome.storage.local.set({restaurantData:Object.fromEntries(n)})];case 2:return r.sent(),[2]}}))}))},e.getOrInitilizeRestaurantMap=function(){return n(void 0,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return[4,chrome.storage.local.get("restaurantData")];case 1:return(null==(t=n.sent())?void 0:t.restaurantData)?[2,new Map(Object.entries(t.restaurantData))]:(e=new Map,chrome.storage.local.set({restaurantData:e}),[2,e])}}))}))};var a=function(t){return"".concat(t.latitude).concat(t.longitude)}},880:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},r.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(708),c=i(n(386)),u=n(117),l=n(837),f=function(t,e){var n=d(t),r=d(e);if(0===n.length||0===r.length)return c.default.compareTwoStrings(t,e);var a=c.default.compareTwoStrings(n,r),o=p(n),i=p(r);if(0===o.length||0===i.length)return c.default.compareTwoStrings(o,i);var s=c.default.compareTwoStrings(o,i);return Math.max(a,s)},d=function(t){return(t=(t=t.replace(u.insideParensOrBracketsRegex,"")).replace(u.nonAphaNumericRegex,"")).toLowerCase()},p=function(t){return t.replace(u.commonConjunctionsRegex,"")},h=function(t){return a(void 0,void 0,void 0,(function(){var e,n,r,a,i,c,l,f;return o(this,(function(o){switch(o.label){case 0:return[4,(0,s.waitForElm)('script[type="application/ld+json"]')];case 1:return e=o.sent(),n=JSON.parse(e.textContent),r=n.address.streetAddress,a=n.name,i=t.restaurants,c=i.filter((function(t){return t.vicinity.includes(r)})),0===(l=c).length&&(f=i.filter((function(t){return function(t,e){var n,r,a=null!==(n=t.match(u.firstNumberRegex))&&void 0!==n?n:[],o=null!==(r=e.match(u.firstNumberRegex))&&void 0!==r?r:[];return 0!==a.length&&0!==o.length&&a[0]===o[0]}(t.vicinity,r)})),l=f),l.length,g(l,a,r),[2]}}))}))},g=function(t,e,n){var a=document.querySelector("h1");a&&(a.style.display="flex",a.style.alignItems="center"),0===t.length&&a&&(a.innerHTML+='\n        <span class="PFF-tooltip">\n            <div class="PFF-kitchen-text PFF-potentially-haunted-text">Potentially Haunted</div>\n            <div>‚ùì</div>\n            <span class="PFF-tooltip-text">\n                <span class=\'PFF-max-content PFF-display-block\'> There are no resturants verified at\n                    <a target=\'_blank\' href=\'https://www.google.com/maps/place/'.concat(n,"'>\n                        this location.\n                    </a>\n                    This may be due to google maps data not being up to date\n                </span>\n            </span>\n        </span>"));var o=t.map((function(t){return t.name})).map((function(t){return c.default.compareTwoStrings(t,e)})),i=(Math.max.apply(Math,o),t.map((function(t){return r(r({},t),{score:f(t.name,e)})})).sort((function(t,e){return e.score-t.score})));i[0].score>.75?a&&(a.innerHTML+='\n            <span class="PFF-tooltip">\n                <div class="PFF-kitchen-text PFF-ghost-free-text">Ghost-Free Kitchen</div>\n                <div>‚úîÔ∏è</div>\n                <span class="PFF-tooltip-text">\n                    <div class=\'PFF-max-content PFF-display-block\'>\n                        '.concat(i[0].name," confirmed to exixst at \n                        <a target='_blank' href='https://www.google.com/maps/place/").concat(i[0].vicinity,"'>\n                            this location\n                        </a>\n                    </div>\n                </span>\n            </span>\n            ")):a&&(a.innerHTML+='\n            <span class="PFF-tooltip">\n                <div class="PFF-kitchen-text PFF-haunted-text">Haunted Kitchen</div>\n                <div>üëª</div>\n                <span class="PFF-tooltip-text">\n                    <span class=\'PFF-max-content PFF-display-block\'>"'.concat(e,"\" not verified at\n                        <a target='_blank' href='https://www.google.com/maps/place/").concat(i[0].vicinity,"'>\n                            this location.\n                        </a>\n                    </span>\n                    <div class='PFF-mt-1 PFF-max-content'>\n                        Other businesses at this location:\n                    </div>\n                    <ul>\n                        ").concat(i.map((function(t){return"<li>".concat(t.name,"</li>")})).join(""),"\n                    </ul>\n                </span>\n            </span>"))};a(void 0,void 0,void 0,(function(){var t,e,n,r;return o(this,(function(i){switch(i.label){case 0:return[4,a(void 0,void 0,void 0,(function(){var t,e,n,r;return o(this,(function(a){switch(a.label){case 0:return[4,(0,s.waitForElm)('script[type="application/ld+json"]')];case 1:return t=a.sent(),e=JSON.parse(t.textContent),n=e.geo.latitude,r=e.geo.longitude,[2,{latitude:n,longitude:r}]}}))}))];case 1:return t=i.sent(),e=t.latitude,n=t.longitude,[4,(0,l.getCachedRestaurantData)(t)];case 2:return(r=i.sent())?(h(r),[2]):(e&&n&&chrome.runtime.sendMessage({type:"getNearbyRestaurants",cordinate:{latitude:e,longitude:n}},(function(e){return a(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return e.error?(console.error(e.error),[2]):(h(e),[4,(0,l.updateRestaurantCache)(t,e)]);case 1:return n.sent(),[2]}}))}))})),[2])}}))}))},708:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForElm=void 0,e.waitForElm=function(t){return new Promise((function(e){if(document.querySelector(t))return e(document.querySelector(t));var n=new MutationObserver((function(){document.querySelector(t)&&(e(document.querySelector(t)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}))}},117:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commonConjunctionsRegex=e.insideParensOrBracketsRegex=e.firstNumberRegex=e.nonAphaNumericRegex=void 0,e.nonAphaNumericRegex=/[^A-Za-z0-9]/g,e.firstNumberRegex=/\d+/,e.insideParensOrBracketsRegex=/\s*[\[{(<].*?[>)}\]]\s*/g,e.commonConjunctionsRegex=/(and|or|slash|with|plus|minus)/gi}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}(()=>{"use strict";n(708),n(880)})()})();